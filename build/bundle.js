var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,a;function c(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function l(t,e,n,s){return t[1]&&s?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](s(e))):n.ctx}function h(e){return e&&o(e.destroy)?e.destroy:t}function u(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function x(){return g("")}function y(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function w(t){a=t}function $(){if(!a)throw new Error("Function called outside component initialization");return a}function A(t){$().$$.after_update.push(t)}function _(t){$().$$.on_destroy.push(t)}const j=[],O=[],S=[],P=[],C=Promise.resolve();let E=!1;function T(t){S.push(t)}const L=new Set;let D=0;function z(){const t=a;do{for(;D<j.length;){const t=j[D];D++,w(t),I(t.$$)}for(w(null),j.length=0,D=0;O.length;)O.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];L.has(e)||(L.add(e),e())}S.length=0}while(j.length);for(;P.length;)P.pop()();E=!1,L.clear(),w(t)}function I(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const R=new Set;let N;function W(){N={r:0,c:[],p:N}}function F(){N.r||s(N.c),N=N.p}function Y(t,e){t&&t.i&&(R.delete(t),t.i(e))}function X(t,e,n,s){if(t&&t.o){if(R.has(t))return;R.add(t),N.c.push((()=>{R.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function B(t,e){X(t,1,1,(()=>{e.delete(t.key)}))}function G(t){t&&t.c()}function H(t,n,r,i){const{fragment:a,on_mount:c,on_destroy:l,after_update:h}=t.$$;a&&a.m(n,r),i||T((()=>{const n=c.map(e).filter(o);l?l.push(...n):s(n),t.$$.on_mount=[]})),h.forEach(T)}function V(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(t,e){-1===t.$$.dirty[0]&&(j.push(t),E||(E=!0,C.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,o,r,i,c,l,h,u=[-1]){const f=a;w(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||f.$$.root};h&&h(d.root);let b=!1;if(d.ctx=r?r(e,o.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),b&&Z(e,t)),n})):[],d.update(),b=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();o.intro&&Y(e.$$.fragment),H(e,o.target,o.anchor,o.customElement),z()}w(f)}class U{$destroy(){V(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t,e,n){if(t&&t.length){const[s,o]=e,r=Math.PI/180*n,i=Math.cos(r),a=Math.sin(r);t.forEach((t=>{const[e,n]=t;t[0]=(e-s)*i-(n-o)*a+s,t[1]=(e-s)*a+(n-o)*i+o}))}}function K(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function tt(t,e){const n=e.hachureAngle+90;let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);const o=[0,0];if(n)for(const e of t)J(e,o,n);const r=function(t,e){const n=[];for(const e of t){const t=[...e];t[0].join(",")!==t[t.length-1].join(",")&&t.push([t[0][0],t[0][1]]),t.length>2&&n.push(t)}const s=[];e=Math.max(e,.1);const o=[];for(const t of n)for(let e=0;e<t.length-1;e++){const n=t[e],s=t[e+1];if(n[1]!==s[1]){const t=Math.min(n[1],s[1]);o.push({ymin:t,ymax:Math.max(n[1],s[1]),x:t===n[1]?n[0]:s[0],islope:(s[0]-n[0])/(s[1]-n[1])})}}if(o.sort(((t,e)=>t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax))),!o.length)return s;let r=[],i=o[0].ymin;for(;r.length||o.length;){if(o.length){let t=-1;for(let e=0;e<o.length&&!(o[e].ymin>i);e++)t=e;o.splice(0,t+1).forEach((t=>{r.push({s:i,edge:t})}))}if(r=r.filter((t=>!(t.edge.ymax<=i))),r.sort(((t,e)=>t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x))),r.length>1)for(let t=0;t<r.length;t+=2){const e=t+1;if(e>=r.length)break;const n=r[t].edge,o=r[e].edge;s.push([[Math.round(n.x),i],[Math.round(o.x),i]])}i+=e,r.forEach((t=>{t.edge.x=t.edge.x+e*t.edge.islope}))}return s}(t,s);if(n){for(const e of t)J(e,o,-n);!function(t,e,n){const s=[];t.forEach((t=>s.push(...t))),J(s,e,n)}(r,o,-n)}return r}class et{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const n=tt(t,e);return{type:"fillSketch",ops:this.renderLines(n,e)}}renderLines(t,e){const n=[];for(const s of t)n.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],e));return n}}class nt extends et{fillPolygons(t,e){let n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);const s=tt(t,Object.assign({},e,{hachureGap:n})),o=Math.PI/180*e.hachureAngle,r=[],i=.5*n*Math.cos(o),a=.5*n*Math.sin(o);for(const[t,e]of s)K([t,e])&&r.push([[t[0]-i,t[1]+a],[...e]],[[t[0]+i,t[1]-a],[...e]]);return{type:"fillSketch",ops:this.renderLines(r,e)}}}class st extends et{fillPolygons(t,e){const n=this._fillPolygons(t,e),s=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),o=this._fillPolygons(t,s);return n.ops=n.ops.concat(o.ops),n}}class ot{constructor(t){this.helper=t}fillPolygons(t,e){const n=tt(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(n,e)}dotsOnLines(t,e){const n=[];let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);let o=e.fillWeight;o<0&&(o=e.strokeWidth/2);const r=s/4;for(const i of t){const t=K(i),a=t/s,c=Math.ceil(a)-1,l=t-c*s,h=(i[0][0]+i[1][0])/2-s/4,u=Math.min(i[0][1],i[1][1]);for(let t=0;t<c;t++){const i=u+l+t*s,a=h-r+2*Math.random()*r,c=i-r+2*Math.random()*r,f=this.helper.ellipse(a,c,o,o,e);n.push(...f.ops)}}return{type:"fillSketch",ops:n}}}class rt{constructor(t){this.helper=t}fillPolygons(t,e){const n=tt(t,e);return{type:"fillSketch",ops:this.dashedLine(n,e)}}dashedLine(t,e){const n=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,s=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,o=[];return t.forEach((t=>{const r=K(t),i=Math.floor(r/(n+s)),a=(r+s-i*(n+s))/2;let c=t[0],l=t[1];c[0]>l[0]&&(c=t[1],l=t[0]);const h=Math.atan((l[1]-c[1])/(l[0]-c[0]));for(let t=0;t<i;t++){const r=t*(n+s),i=r+n,l=[c[0]+r*Math.cos(h)+a*Math.cos(h),c[1]+r*Math.sin(h)+a*Math.sin(h)],u=[c[0]+i*Math.cos(h)+a*Math.cos(h),c[1]+i*Math.sin(h)+a*Math.sin(h)];o.push(...this.helper.doubleLineOps(l[0],l[1],u[0],u[1],e))}})),o}}class it{constructor(t){this.helper=t}fillPolygons(t,e){const n=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,s=e.zigzagOffset<0?n:e.zigzagOffset,o=tt(t,e=Object.assign({},e,{hachureGap:n+s}));return{type:"fillSketch",ops:this.zigzagLines(o,s,e)}}zigzagLines(t,e,n){const s=[];return t.forEach((t=>{const o=K(t),r=Math.round(o/(2*e));let i=t[0],a=t[1];i[0]>a[0]&&(i=t[1],a=t[0]);const c=Math.atan((a[1]-i[1])/(a[0]-i[0]));for(let t=0;t<r;t++){const o=2*t*e,r=2*(t+1)*e,a=Math.sqrt(2*Math.pow(e,2)),l=[i[0]+o*Math.cos(c),i[1]+o*Math.sin(c)],h=[i[0]+r*Math.cos(c),i[1]+r*Math.sin(c)],u=[l[0]+a*Math.cos(c+Math.PI/4),l[1]+a*Math.sin(c+Math.PI/4)];s.push(...this.helper.doubleLineOps(l[0],l[1],u[0],u[1],n),...this.helper.doubleLineOps(u[0],u[1],h[0],h[1],n))}})),s}}const at={};class ct{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const lt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ht(t,e){return t.type===e}function ut(t){const e=[],n=function(t){const e=new Array;for(;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:0,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:1,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:2,text:""},e}(t);let s="BOD",o=0,r=n[o];for(;!ht(r,2);){let i=0;const a=[];if("BOD"===s){if("M"!==r.text&&"m"!==r.text)return ut("M0,0"+t);o++,i=lt[r.text],s=r.text}else ht(r,1)?i=lt[s]:(o++,i=lt[r.text],s=r.text);if(!(o+i<n.length))throw new Error("Path data ended short");for(let t=o;t<o+i;t++){const e=n[t];if(!ht(e,1))throw new Error("Param not a number: "+s+","+e.text);a[a.length]=+e.text}if("number"!=typeof lt[s])throw new Error("Bad segment: "+s);{const t={key:s,data:a};e.push(t),o+=i,r=n[o],"M"===s&&(s="L"),"m"===s&&(s="l")}}return e}function ft(t){let e=0,n=0,s=0,o=0;const r=[];for(const{key:i,data:a}of t)switch(i){case"M":r.push({key:"M",data:[...a]}),[e,n]=a,[s,o]=a;break;case"m":e+=a[0],n+=a[1],r.push({key:"M",data:[e,n]}),s=e,o=n;break;case"L":r.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],r.push({key:"L",data:[e,n]});break;case"C":r.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const t=a.map(((t,s)=>s%2?t+n:t+e));r.push({key:"C",data:t}),e=t[4],n=t[5];break}case"Q":r.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const t=a.map(((t,s)=>s%2?t+n:t+e));r.push({key:"Q",data:t}),e=t[2],n=t[3];break}case"A":r.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],r.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":r.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],r.push({key:"H",data:[e]});break;case"V":r.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],r.push({key:"V",data:[n]});break;case"S":r.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const t=a.map(((t,s)=>s%2?t+n:t+e));r.push({key:"S",data:t}),e=t[2],n=t[3];break}case"T":r.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],r.push({key:"T",data:[e,n]});break;case"Z":case"z":r.push({key:"Z",data:[]}),e=s,n=o}return r}function pt(t){const e=[];let n="",s=0,o=0,r=0,i=0,a=0,c=0;for(const{key:l,data:h}of t){switch(l){case"M":e.push({key:"M",data:[...h]}),[s,o]=h,[r,i]=h;break;case"C":e.push({key:"C",data:[...h]}),s=h[4],o=h[5],a=h[2],c=h[3];break;case"L":e.push({key:"L",data:[...h]}),[s,o]=h;break;case"H":s=h[0],e.push({key:"L",data:[s,o]});break;case"V":o=h[0],e.push({key:"L",data:[s,o]});break;case"S":{let t=0,r=0;"C"===n||"S"===n?(t=s+(s-a),r=o+(o-c)):(t=s,r=o),e.push({key:"C",data:[t,r,...h]}),a=h[0],c=h[1],s=h[2],o=h[3];break}case"T":{const[t,r]=h;let i=0,l=0;"Q"===n||"T"===n?(i=s+(s-a),l=o+(o-c)):(i=s,l=o);const u=s+2*(i-s)/3,f=o+2*(l-o)/3,p=t+2*(i-t)/3,d=r+2*(l-r)/3;e.push({key:"C",data:[u,f,p,d,t,r]}),a=i,c=l,s=t,o=r;break}case"Q":{const[t,n,r,i]=h,l=s+2*(t-s)/3,u=o+2*(n-o)/3,f=r+2*(t-r)/3,p=i+2*(n-i)/3;e.push({key:"C",data:[l,u,f,p,r,i]}),a=t,c=n,s=r,o=i;break}case"A":{const t=Math.abs(h[0]),n=Math.abs(h[1]),r=h[2],i=h[3],a=h[4],c=h[5],l=h[6];if(0===t||0===n)e.push({key:"C",data:[s,o,c,l,c,l]}),s=c,o=l;else if(s!==c||o!==l){bt(s,o,c,l,t,n,r,i,a).forEach((function(t){e.push({key:"C",data:t})})),s=c,o=l}break}case"Z":e.push({key:"Z",data:[]}),s=r,o=i}n=l}return e}function dt(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function bt(t,e,n,s,o,r,i,a,c,l){const h=(u=i,Math.PI*u/180);var u;let f=[],p=0,d=0,b=0,g=0;if(l)[p,d,b,g]=l;else{[t,e]=dt(t,e,-h),[n,s]=dt(n,s,-h);const i=(t-n)/2,l=(e-s)/2;let u=i*i/(o*o)+l*l/(r*r);u>1&&(u=Math.sqrt(u),o*=u,r*=u);const f=o*o,m=r*r,x=f*m-f*l*l-m*i*i,y=f*l*l+m*i*i,k=(a===c?-1:1)*Math.sqrt(Math.abs(x/y));b=k*o*l/r+(t+n)/2,g=k*-r*i/o+(e+s)/2,p=Math.asin(parseFloat(((e-g)/r).toFixed(9))),d=Math.asin(parseFloat(((s-g)/r).toFixed(9))),t<b&&(p=Math.PI-p),n<b&&(d=Math.PI-d),p<0&&(p=2*Math.PI+p),d<0&&(d=2*Math.PI+d),c&&p>d&&(p-=2*Math.PI),!c&&d>p&&(d-=2*Math.PI)}let m=d-p;if(Math.abs(m)>120*Math.PI/180){const t=d,e=n,a=s;d=c&&d>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=bt(n=b+o*Math.cos(d),s=g+r*Math.sin(d),e,a,o,r,i,0,c,[d,t,b,g])}m=d-p;const x=Math.cos(p),y=Math.sin(p),k=Math.cos(d),M=Math.sin(d),v=Math.tan(m/4),w=4/3*o*v,$=4/3*r*v,A=[t,e],_=[t+w*y,e-$*x],j=[n+w*M,s-$*k],O=[n,s];if(_[0]=2*A[0]-_[0],_[1]=2*A[1]-_[1],l)return[_,j,O].concat(f);{f=[_,j,O].concat(f);const t=[];for(let e=0;e<f.length;e+=3){const n=dt(f[e][0],f[e][1],h),s=dt(f[e+1][0],f[e+1][1],h),o=dt(f[e+2][0],f[e+2][1],h);t.push([n[0],n[1],s[0],s[1],o[0],o[1]])}return t}}const gt={randOffset:function(t,e){return Ot(t,e)},randOffsetWithRange:function(t,e,n){return jt(t,e,n)},ellipse:function(t,e,n,s,o){const r=Mt(n,s,o);return vt(t,e,o,r).opset},doubleLineOps:function(t,e,n,s,o){return St(t,e,n,s,o,!0)}};function mt(t,e,n,s,o){return{type:"path",ops:St(t,e,n,s,o)}}function xt(t,e,n){const s=(t||[]).length;if(s>2){const o=[];for(let e=0;e<s-1;e++)o.push(...St(t[e][0],t[e][1],t[e+1][0],t[e+1][1],n));return e&&o.push(...St(t[s-1][0],t[s-1][1],t[0][0],t[0][1],n)),{type:"path",ops:o}}return 2===s?mt(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function yt(t,e,n,s,o){return function(t,e){return xt(t,!0,e)}([[t,e],[t+n,e],[t+n,e+s],[t,e+s]],o)}function kt(t,e){let n=Ct(t,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){const s=Ct(t,1.5*(1+.22*e.roughness),function(t){const e=Object.assign({},t);e.randomizer=void 0,t.seed&&(e.seed=t.seed+1);return e}(e));n=n.concat(s)}return{type:"path",ops:n}}function Mt(t,e,n){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),r=2*Math.PI/o;let i=Math.abs(t/2),a=Math.abs(e/2);const c=1-n.curveFitting;return i+=Ot(i*c,n),a+=Ot(a*c,n),{increment:r,rx:i,ry:a}}function vt(t,e,n,s){const[o,r]=Tt(s.increment,t,e,s.rx,s.ry,1,s.increment*jt(.1,jt(.4,1,n),n),n);let i=Et(o,null,n);if(!n.disableMultiStroke&&0!==n.roughness){const[o]=Tt(s.increment,t,e,s.rx,s.ry,1.5,0,n),r=Et(o,null,n);i=i.concat(r)}return{estimatedPoints:r,opset:{type:"path",ops:i}}}function wt(t,e,n,s,o,r,i,a,c){const l=t,h=e;let u=Math.abs(n/2),f=Math.abs(s/2);u+=Ot(.01*u,c),f+=Ot(.01*f,c);let p=o,d=r;for(;p<0;)p+=2*Math.PI,d+=2*Math.PI;d-p>2*Math.PI&&(p=0,d=2*Math.PI);const b=2*Math.PI/c.curveStepCount,g=Math.min(b/2,(d-p)/2),m=Lt(g,l,h,u,f,p,d,1,c);if(!c.disableMultiStroke){const t=Lt(g,l,h,u,f,p,d,1.5,c);m.push(...t)}return i&&(a?m.push(...St(l,h,l+u*Math.cos(p),h+f*Math.sin(p),c),...St(l,h,l+u*Math.cos(d),h+f*Math.sin(d),c)):m.push({op:"lineTo",data:[l,h]},{op:"lineTo",data:[l+u*Math.cos(p),h+f*Math.sin(p)]})),{type:"path",ops:m}}function $t(t,e){const n=[];for(const s of t)if(s.length){const t=e.maxRandomnessOffset||0,o=s.length;if(o>2){n.push({op:"move",data:[s[0][0]+Ot(t,e),s[0][1]+Ot(t,e)]});for(let r=1;r<o;r++)n.push({op:"lineTo",data:[s[r][0]+Ot(t,e),s[r][1]+Ot(t,e)]})}}return{type:"fillPath",ops:n}}function At(t,e){return function(t,e){let n=t.fillStyle||"hachure";if(!at[n])switch(n){case"zigzag":at[n]||(at[n]=new nt(e));break;case"cross-hatch":at[n]||(at[n]=new st(e));break;case"dots":at[n]||(at[n]=new ot(e));break;case"dashed":at[n]||(at[n]=new rt(e));break;case"zigzag-line":at[n]||(at[n]=new it(e));break;default:n="hachure",at[n]||(at[n]=new et(e))}return at[n]}(e,gt).fillPolygons(t,e)}function _t(t){return t.randomizer||(t.randomizer=new ct(t.seed||0)),t.randomizer.next()}function jt(t,e,n,s=1){return n.roughness*s*(_t(n)*(e-t)+t)}function Ot(t,e,n=1){return jt(-t,t,e,n)}function St(t,e,n,s,o,r=!1){const i=r?o.disableMultiStrokeFill:o.disableMultiStroke,a=Pt(t,e,n,s,o,!0,!1);if(i)return a;const c=Pt(t,e,n,s,o,!0,!0);return a.concat(c)}function Pt(t,e,n,s,o,r,i){const a=Math.pow(t-n,2)+Math.pow(e-s,2),c=Math.sqrt(a);let l=1;l=c<200?1:c>500?.4:-.0016668*c+1.233334;let h=o.maxRandomnessOffset||0;h*h*100>a&&(h=c/10);const u=h/2,f=.2+.2*_t(o);let p=o.bowing*o.maxRandomnessOffset*(s-e)/200,d=o.bowing*o.maxRandomnessOffset*(t-n)/200;p=Ot(p,o,l),d=Ot(d,o,l);const b=[],g=()=>Ot(u,o,l),m=()=>Ot(h,o,l),x=o.preserveVertices;return r&&(i?b.push({op:"move",data:[t+(x?0:g()),e+(x?0:g())]}):b.push({op:"move",data:[t+(x?0:Ot(h,o,l)),e+(x?0:Ot(h,o,l))]})),i?b.push({op:"bcurveTo",data:[p+t+(n-t)*f+g(),d+e+(s-e)*f+g(),p+t+2*(n-t)*f+g(),d+e+2*(s-e)*f+g(),n+(x?0:g()),s+(x?0:g())]}):b.push({op:"bcurveTo",data:[p+t+(n-t)*f+m(),d+e+(s-e)*f+m(),p+t+2*(n-t)*f+m(),d+e+2*(s-e)*f+m(),n+(x?0:m()),s+(x?0:m())]}),b}function Ct(t,e,n){const s=[];s.push([t[0][0]+Ot(e,n),t[0][1]+Ot(e,n)]),s.push([t[0][0]+Ot(e,n),t[0][1]+Ot(e,n)]);for(let o=1;o<t.length;o++)s.push([t[o][0]+Ot(e,n),t[o][1]+Ot(e,n)]),o===t.length-1&&s.push([t[o][0]+Ot(e,n),t[o][1]+Ot(e,n)]);return Et(s,null,n)}function Et(t,e,n){const s=t.length,o=[];if(s>3){const r=[],i=1-n.curveTightness;o.push({op:"move",data:[t[1][0],t[1][1]]});for(let e=1;e+2<s;e++){const n=t[e];r[0]=[n[0],n[1]],r[1]=[n[0]+(i*t[e+1][0]-i*t[e-1][0])/6,n[1]+(i*t[e+1][1]-i*t[e-1][1])/6],r[2]=[t[e+1][0]+(i*t[e][0]-i*t[e+2][0])/6,t[e+1][1]+(i*t[e][1]-i*t[e+2][1])/6],r[3]=[t[e+1][0],t[e+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}if(e&&2===e.length){const t=n.maxRandomnessOffset;o.push({op:"lineTo",data:[e[0]+Ot(t,n),e[1]+Ot(t,n)]})}}else 3===s?(o.push({op:"move",data:[t[1][0],t[1][1]]}),o.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===s&&o.push(...St(t[0][0],t[0][1],t[1][0],t[1][1],n));return o}function Tt(t,e,n,s,o,r,i,a){const c=[],l=[];if(0===a.roughness){t/=4,l.push([e+s*Math.cos(-t),n+o*Math.sin(-t)]);for(let r=0;r<=2*Math.PI;r+=t){const t=[e+s*Math.cos(r),n+o*Math.sin(r)];c.push(t),l.push(t)}l.push([e+s*Math.cos(0),n+o*Math.sin(0)]),l.push([e+s*Math.cos(t),n+o*Math.sin(t)])}else{const h=Ot(.5,a)-Math.PI/2;l.push([Ot(r,a)+e+.9*s*Math.cos(h-t),Ot(r,a)+n+.9*o*Math.sin(h-t)]);const u=2*Math.PI+h-.01;for(let i=h;i<u;i+=t){const t=[Ot(r,a)+e+s*Math.cos(i),Ot(r,a)+n+o*Math.sin(i)];c.push(t),l.push(t)}l.push([Ot(r,a)+e+s*Math.cos(h+2*Math.PI+.5*i),Ot(r,a)+n+o*Math.sin(h+2*Math.PI+.5*i)]),l.push([Ot(r,a)+e+.98*s*Math.cos(h+i),Ot(r,a)+n+.98*o*Math.sin(h+i)]),l.push([Ot(r,a)+e+.9*s*Math.cos(h+.5*i),Ot(r,a)+n+.9*o*Math.sin(h+.5*i)])}return[l,c]}function Lt(t,e,n,s,o,r,i,a,c){const l=r+Ot(.1,c),h=[];h.push([Ot(a,c)+e+.9*s*Math.cos(l-t),Ot(a,c)+n+.9*o*Math.sin(l-t)]);for(let r=l;r<=i;r+=t)h.push([Ot(a,c)+e+s*Math.cos(r),Ot(a,c)+n+o*Math.sin(r)]);return h.push([e+s*Math.cos(i),n+o*Math.sin(i)]),h.push([e+s*Math.cos(i),n+o*Math.sin(i)]),Et(h,null,c)}function Dt(t,e,n,s,o,r,i,a){const c=[],l=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let h=[0,0];const u=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let p=0;p<u;p++)0===p?c.push({op:"move",data:[i[0],i[1]]}):c.push({op:"move",data:[i[0]+(f?0:Ot(l[0],a)),i[1]+(f?0:Ot(l[0],a))]}),h=f?[o,r]:[o+Ot(l[p],a),r+Ot(l[p],a)],c.push({op:"bcurveTo",data:[t+Ot(l[p],a),e+Ot(l[p],a),n+Ot(l[p],a),s+Ot(l[p],a),h[0],h[1]]});return c}function zt(t){return[...t]}function It(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Rt(t,e,n){const s=It(e,n);if(0===s)return It(t,e);let o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),It(t,Nt(e,n,o))}function Nt(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Wt(t,e,n,s){const o=s||[];if(function(t,e){const n=t[e+0],s=t[e+1],o=t[e+2],r=t[e+3];let i=3*s[0]-2*n[0]-r[0];i*=i;let a=3*s[1]-2*n[1]-r[1];a*=a;let c=3*o[0]-2*r[0]-n[0];c*=c;let l=3*o[1]-2*r[1]-n[1];return l*=l,i<c&&(i=c),a<l&&(a=l),i+a}(t,e)<n){const n=t[e+0];if(o.length){(r=o[o.length-1],i=n,Math.sqrt(It(r,i)))>1&&o.push(n)}else o.push(n);o.push(t[e+3])}else{const s=.5,r=t[e+0],i=t[e+1],a=t[e+2],c=t[e+3],l=Nt(r,i,s),h=Nt(i,a,s),u=Nt(a,c,s),f=Nt(l,h,s),p=Nt(h,u,s),d=Nt(f,p,s);Wt([r,l,f,d],0,n,o),Wt([d,p,u,c],0,n,o)}var r,i;return o}function Ft(t,e){return Yt(t,0,t.length,e)}function Yt(t,e,n,s,o){const r=o||[],i=t[e],a=t[n-1];let c=0,l=1;for(let s=e+1;s<n-1;++s){const e=Rt(t[s],i,a);e>c&&(c=e,l=s)}return Math.sqrt(c)>s?(Yt(t,e,l+1,s,r),Yt(t,l,n,s,r)):(r.length||r.push(i),r.push(a)),r}function Xt(t,e=.15,n){const s=[],o=(t.length-1)/3;for(let n=0;n<o;n++){Wt(t,3*n,e,s)}return n&&n>0?Yt(s,0,s.length,n):s}const qt="none";class Bt{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,n){return{shape:t,sets:e||[],options:n||this.defaultOptions}}line(t,e,n,s,o){const r=this._o(o);return this._d("line",[mt(t,e,n,s,r)],r)}rectangle(t,e,n,s,o){const r=this._o(o),i=[],a=yt(t,e,n,s,r);if(r.fill){const o=[[t,e],[t+n,e],[t+n,e+s],[t,e+s]];"solid"===r.fillStyle?i.push($t([o],r)):i.push(At([o],r))}return r.stroke!==qt&&i.push(a),this._d("rectangle",i,r)}ellipse(t,e,n,s,o){const r=this._o(o),i=[],a=Mt(n,s,r),c=vt(t,e,r,a);if(r.fill)if("solid"===r.fillStyle){const n=vt(t,e,r,a).opset;n.type="fillPath",i.push(n)}else i.push(At([c.estimatedPoints],r));return r.stroke!==qt&&i.push(c.opset),this._d("ellipse",i,r)}circle(t,e,n,s){const o=this.ellipse(t,e,n,n,s);return o.shape="circle",o}linearPath(t,e){const n=this._o(e);return this._d("linearPath",[xt(t,!1,n)],n)}arc(t,e,n,s,o,r,i=!1,a){const c=this._o(a),l=[],h=wt(t,e,n,s,o,r,i,!0,c);if(i&&c.fill)if("solid"===c.fillStyle){const i=Object.assign({},c);i.disableMultiStroke=!0;const a=wt(t,e,n,s,o,r,!0,!1,i);a.type="fillPath",l.push(a)}else l.push(function(t,e,n,s,o,r,i){const a=t,c=e;let l=Math.abs(n/2),h=Math.abs(s/2);l+=Ot(.01*l,i),h+=Ot(.01*h,i);let u=o,f=r;for(;u<0;)u+=2*Math.PI,f+=2*Math.PI;f-u>2*Math.PI&&(u=0,f=2*Math.PI);const p=(f-u)/i.curveStepCount,d=[];for(let t=u;t<=f;t+=p)d.push([a+l*Math.cos(t),c+h*Math.sin(t)]);return d.push([a+l*Math.cos(f),c+h*Math.sin(f)]),d.push([a,c]),At([d],i)}(t,e,n,s,o,r,c));return c.stroke!==qt&&l.push(h),this._d("arc",l,c)}curve(t,e){const n=this._o(e),s=[],o=kt(t,n);if(n.fill&&n.fill!==qt&&t.length>=3){const e=function(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const s=[];if(3===n)s.push(zt(t[0]),zt(t[1]),zt(t[2]),zt(t[2]));else{const n=[];n.push(t[0],t[0]);for(let e=1;e<t.length;e++)n.push(t[e]),e===t.length-1&&n.push(t[e]);const o=[],r=1-e;s.push(zt(n[0]));for(let t=1;t+2<n.length;t++){const e=n[t];o[0]=[e[0],e[1]],o[1]=[e[0]+(r*n[t+1][0]-r*n[t-1][0])/6,e[1]+(r*n[t+1][1]-r*n[t-1][1])/6],o[2]=[n[t+1][0]+(r*n[t][0]-r*n[t+2][0])/6,n[t+1][1]+(r*n[t][1]-r*n[t+2][1])/6],o[3]=[n[t+1][0],n[t+1][1]],s.push(o[1],o[2],o[3])}}return s}(t),o=Xt(e,10,(1+n.roughness)/2);"solid"===n.fillStyle?s.push($t([o],n)):s.push(At([o],n))}return n.stroke!==qt&&s.push(o),this._d("curve",s,n)}polygon(t,e){const n=this._o(e),s=[],o=xt(t,!0,n);return n.fill&&("solid"===n.fillStyle?s.push($t([t],n)):s.push(At([t],n))),n.stroke!==qt&&s.push(o),this._d("polygon",s,n)}path(t,e){const n=this._o(e),s=[];if(!t)return this._d("path",s,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=n.fill&&"transparent"!==n.fill&&n.fill!==qt,r=n.stroke!==qt,i=!!(n.simplification&&n.simplification<1),a=function(t,e,n){const s=pt(ft(ut(t))),o=[];let r=[],i=[0,0],a=[];const c=()=>{a.length>=4&&r.push(...Xt(a,e)),a=[]},l=()=>{c(),r.length&&(o.push(r),r=[])};for(const{key:t,data:e}of s)switch(t){case"M":l(),i=[e[0],e[1]],r.push(i);break;case"L":c(),r.push([e[0],e[1]]);break;case"C":if(!a.length){const t=r.length?r[r.length-1]:i;a.push([t[0],t[1]])}a.push([e[0],e[1]]),a.push([e[2],e[3]]),a.push([e[4],e[5]]);break;case"Z":c(),r.push([i[0],i[1]])}if(l(),!n)return o;const h=[];for(const t of o){const e=Ft(t,n);e.length&&h.push(e)}return h}(t,1,i?4-4*n.simplification:(1+n.roughness)/2);return o&&("solid"===n.fillStyle?s.push($t(a,n)):s.push(At(a,n))),r&&(i?a.forEach((t=>{s.push(xt(t,!1,n))})):s.push(function(t,e){const n=pt(ft(ut(t))),s=[];let o=[0,0],r=[0,0];for(const{key:t,data:i}of n)switch(t){case"M":{const t=1*(e.maxRandomnessOffset||0),n=e.preserveVertices;s.push({op:"move",data:i.map((s=>s+(n?0:Ot(t,e))))}),r=[i[0],i[1]],o=[i[0],i[1]];break}case"L":s.push(...St(r[0],r[1],i[0],i[1],e)),r=[i[0],i[1]];break;case"C":{const[t,n,o,a,c,l]=i;s.push(...Dt(t,n,o,a,c,l,r,e)),r=[c,l];break}case"Z":s.push(...St(r[0],r[1],o[0],o[1],e)),r=[o[0],o[1]]}return{type:"path",ops:s}}(t,n))),this._d("path",s,n)}opsToPath(t,e){let n="";for(const s of t.ops){const t="number"==typeof e&&e>=0?s.data.map((t=>+t.toFixed(e))):s.data;switch(s.op){case"move":n+=`M${t[0]} ${t[1]} `;break;case"bcurveTo":n+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case"lineTo":n+=`L${t[0]} ${t[1]} `}}return n.trim()}toPaths(t){const e=t.sets||[],n=t.options||this.defaultOptions,s=[];for(const t of e){let e=null;switch(t.type){case"path":e={d:this.opsToPath(t),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:qt};break;case"fillPath":e={d:this.opsToPath(t),stroke:qt,strokeWidth:0,fill:n.fill||qt};break;case"fillSketch":e=this.fillSketch(t,n)}e&&s.push(e)}return s}fillSketch(t,e){let n=e.fillWeight;return n<0&&(n=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||qt,strokeWidth:n,fill:qt}}}class Gt{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Bt(e)}draw(t){const e=t.sets||[],n=t.options||this.getDefaultOptions(),s=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const r of e)switch(r.type){case"path":s.save(),s.strokeStyle="none"===n.stroke?"transparent":n.stroke,s.lineWidth=n.strokeWidth,n.strokeLineDash&&s.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(s.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(s,r,o),s.restore();break;case"fillPath":{s.save(),s.fillStyle=n.fill||"";const e="curve"===t.shape||"polygon"===t.shape||"path"===t.shape?"evenodd":"nonzero";this._drawToContext(s,r,o,e),s.restore();break}case"fillSketch":this.fillSketch(s,r,n)}}fillSketch(t,e,n){let s=n.fillWeight;s<0&&(s=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=s,this._drawToContext(t,e,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,n,s="nonzero"){t.beginPath();for(const s of e.ops){const e="number"==typeof n&&n>=0?s.data.map((t=>+t.toFixed(n))):s.data;switch(s.op){case"move":t.moveTo(e[0],e[1]);break;case"bcurveTo":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case"lineTo":t.lineTo(e[0],e[1])}}"fillPath"===e.type?t.fill(s):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,n,s,o){const r=this.gen.line(t,e,n,s,o);return this.draw(r),r}rectangle(t,e,n,s,o){const r=this.gen.rectangle(t,e,n,s,o);return this.draw(r),r}ellipse(t,e,n,s,o){const r=this.gen.ellipse(t,e,n,s,o);return this.draw(r),r}circle(t,e,n,s){const o=this.gen.circle(t,e,n,s);return this.draw(o),o}linearPath(t,e){const n=this.gen.linearPath(t,e);return this.draw(n),n}polygon(t,e){const n=this.gen.polygon(t,e);return this.draw(n),n}arc(t,e,n,s,o,r,i=!1,a){const c=this.gen.arc(t,e,n,s,o,r,i,a);return this.draw(c),c}curve(t,e){const n=this.gen.curve(t,e);return this.draw(n),n}path(t,e){const n=this.gen.path(t,e);return this.draw(n),n}}const Ht="http://www.w3.org/2000/svg";class Vt{constructor(t,e){this.svg=t,this.gen=new Bt(e)}draw(t){const e=t.sets||[],n=t.options||this.getDefaultOptions(),s=this.svg.ownerDocument||window.document,o=s.createElementNS(Ht,"g"),r=t.options.fixedDecimalPlaceDigits;for(const i of e){let e=null;switch(i.type){case"path":e=s.createElementNS(Ht,"path"),e.setAttribute("d",this.opsToPath(i,r)),e.setAttribute("stroke",n.stroke),e.setAttribute("stroke-width",n.strokeWidth+""),e.setAttribute("fill","none"),n.strokeLineDash&&e.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&e.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":e=s.createElementNS(Ht,"path"),e.setAttribute("d",this.opsToPath(i,r)),e.setAttribute("stroke","none"),e.setAttribute("stroke-width","0"),e.setAttribute("fill",n.fill||""),"curve"!==t.shape&&"polygon"!==t.shape||e.setAttribute("fill-rule","evenodd");break;case"fillSketch":e=this.fillSketch(s,i,n)}e&&o.appendChild(e)}return o}fillSketch(t,e,n){let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const o=t.createElementNS(Ht,"path");return o.setAttribute("d",this.opsToPath(e,n.fixedDecimalPlaceDigits)),o.setAttribute("stroke",n.fill||""),o.setAttribute("stroke-width",s+""),o.setAttribute("fill","none"),n.fillLineDash&&o.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,n,s,o){const r=this.gen.line(t,e,n,s,o);return this.draw(r)}rectangle(t,e,n,s,o){const r=this.gen.rectangle(t,e,n,s,o);return this.draw(r)}ellipse(t,e,n,s,o){const r=this.gen.ellipse(t,e,n,s,o);return this.draw(r)}circle(t,e,n,s){const o=this.gen.circle(t,e,n,s);return this.draw(o)}linearPath(t,e){const n=this.gen.linearPath(t,e);return this.draw(n)}polygon(t,e){const n=this.gen.polygon(t,e);return this.draw(n)}arc(t,e,n,s,o,r,i=!1,a){const c=this.gen.arc(t,e,n,s,o,r,i,a);return this.draw(c)}curve(t,e){const n=this.gen.curve(t,e);return this.draw(n)}path(t,e){const n=this.gen.path(t,e);return this.draw(n)}}var Zt={canvas:(t,e)=>new Gt(t,e),svg:(t,e)=>new Vt(t,e),generator:t=>new Bt(t),newSeed:()=>Bt.newSeed()};let Qt=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let s=63&n[t];e+=s<36?s.toString(36):s<62?(s-26).toString(36).toUpperCase():s<63?"_":"-"}return e};function Ut(t,e,n){const s=t.slice();return s[8]=e[n],s}function Jt(e){let n;return{c(){n=d("div"),k(n,"class","separator svelte-1jg135v")},m(t,e){f(t,n,e)},p:t,d(t){t&&p(n)}}}function Kt(t){let e,n=t[8].name+"";return{c(){e=d("div"),k(e,"class","unavailable svelte-1jg135v")},m(t,s){f(t,e,s),e.innerHTML=n},p(t,s){16&s&&n!==(n=t[8].name+"")&&(e.innerHTML=n)},d(t){t&&p(e)}}}function te(t){let e,n,s,r=t[8].name+"";return{c(){e=d("div"),k(e,"class","option svelte-1jg135v")},m(i,a){f(i,e,a),e.innerHTML=r,n||(s=y(e,"click",(function(){o(t[8].fun)&&t[8].fun.apply(this,arguments)})),n=!0)},p(n,s){t=n,16&s&&r!==(r=t[8].name+"")&&(e.innerHTML=r)},d(t){t&&p(e),n=!1,s()}}}function ee(t){let e;function n(t,e){return"option"===t[8].type?te:"unavailable"===t[8].type?Kt:"separator"===t[8].type?Jt:void 0}let s=n(t),o=s&&s(t);return{c(){o&&o.c(),e=x()},m(t,n){o&&o.m(t,n),f(t,e,n)},p(t,r){s===(s=n(t))&&o?o.p(t,r):(o&&o.d(1),o=s&&s(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o&&o.d(t),t&&p(e)}}}function ne(e){let n,s,r,i,a,c,l,h=e[4],b=[];for(let t=0;t<h.length;t+=1)b[t]=ee(Ut(e,h,t));return{c(){n=d("div"),s=d("div"),r=d("div"),i=g(e[2]),a=m();for(let t=0;t<b.length;t+=1)b[t].c();k(r,"class","title svelte-1jg135v"),v(r,"--color",e[3],!1),k(s,"class","menu svelte-1jg135v"),v(s,"--position-x",e[0],!1),v(s,"--position-y",e[1],!1),k(n,"class","background svelte-1jg135v")},m(t,h){f(t,n,h),u(n,s),u(s,r),u(r,i),u(s,a);for(let t=0;t<b.length;t+=1)b[t].m(s,null);e[7](s),c||(l=y(n,"click",(function(){o(e[5])&&e[5].apply(this,arguments)})),c=!0)},p(t,[n]){if(e=t,4&n&&M(i,e[2]),8&n&&v(r,"--color",e[3],!1),16&n){let t;for(h=e[4],t=0;t<h.length;t+=1){const o=Ut(e,h,t);b[t]?b[t].p(o,n):(b[t]=ee(o),b[t].c(),b[t].m(s,null))}for(;t<b.length;t+=1)b[t].d(1);b.length=h.length}1&n&&v(s,"--position-x",e[0],!1),2&n&&v(s,"--position-y",e[1],!1)},i:t,o:t,d(t){t&&p(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(b,t),e[7](null),c=!1,l()}}}function se(t,e,n){let s,{x:o}=e,{y:r}=e,{name:i}=e,{color:a}=e,{content:c}=e,{cancel:l}=e;return A((()=>{const t=s.getBoundingClientRect(),e=document.documentElement.clientWidth,o=document.documentElement.clientHeight;t.left+t.width>e&&n(6,s.style.left=e-t.width-4+"px",s),t.top+t.height>o&&n(6,s.style.top=o-t.height-4+"px",s)})),t.$$set=t=>{"x"in t&&n(0,o=t.x),"y"in t&&n(1,r=t.y),"name"in t&&n(2,i=t.name),"color"in t&&n(3,a=t.color),"content"in t&&n(4,c=t.content),"cancel"in t&&n(5,l=t.cancel)},[o,r,i,a,c,l,s,function(t){O[t?"unshift":"push"]((()=>{s=t,n(6,s)}))}]}class oe extends U{constructor(t){super(),Q(this,t,se,ne,r,{x:0,y:1,name:2,color:3,content:4,cancel:5})}}function re(t){let e,n;return e=new oe({props:{x:t[0],y:t[1],content:t[3],name:"Create",color:"red",cancel:t[2]}}),{c(){G(e.$$.fragment)},m(t,s){H(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.x=t[0]),2&n&&(s.y=t[1]),4&n&&(s.cancel=t[2]),e.$set(s)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ie(t,e,n){let{x:s}=e,{y:o}=e,{cancel:r}=e,{makeObject:i}=e,{updateText:a}=e;const c=[{type:"option",fun:()=>i("rectangle",h),name:"Rectangle"},{type:"option",fun:()=>i("ellipse",h),name:"Ellipse"},{type:"option",fun:()=>i("circle",h),name:"Circle"},{type:"option",fun:()=>i("line",h),name:"Line"},{type:"option",fun:()=>i("arrow",h),name:"Arrow"},{type:"option",fun:()=>i("reverse-arrow",h),name:"R-Arrow"},{type:"option",fun:()=>i("double-arrow",h),name:"D-Arrow"},{type:"option",fun:()=>i("text",h),name:"Text"}];let l=[],h="";function u(t){t.preventDefault(),1==t.key.length||t.key.length>1&&/[^a-zA-Z0-9]/.test(t.key)?(l.push(t.key),h=l.join(""),a(h)):"Spacebar"===t.key?(l.push(" "),h=l.join(""),a(h)):"Backspace"===t.key?(l.pop(),h=l.join(""),a(h)):"Escape"===t.key&&r()}return document.addEventListener("keydown",u),_((()=>{document.removeEventListener("keydown",u)})),t.$$set=t=>{"x"in t&&n(0,s=t.x),"y"in t&&n(1,o=t.y),"cancel"in t&&n(2,r=t.cancel),"makeObject"in t&&n(4,i=t.makeObject),"updateText"in t&&n(5,a=t.updateText)},[s,o,r,c,i,a]}class ae extends U{constructor(t){super(),Q(this,t,ie,re,r,{x:0,y:1,cancel:2,makeObject:4,updateText:5})}}function ce(t){let e,n;return e=new oe({props:{content:t[3],color:"blue",x:t[0],y:t[1],cancel:t[2],name:"Edit"}}),{c(){G(e.$$.fragment)},m(t,s){H(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.x=t[0]),2&n&&(s.y=t[1]),4&n&&(s.cancel=t[2]),e.$set(s)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function le(t,e,n){let{x:s}=e,{y:o}=e,{obj:r}=e,{updateObject:i}=e,{moveObject:a}=e,{deleteObject:c}=e,{resizeObject:l}=e,{cancel:h}=e,{updateText:u}=e,f=[{name:"Move",type:"option",fun:function(t){a(r,t.clientX,t.clientY)}},{name:"Resize",type:"option",fun:function(t){l(r,t.clientX,t.clientY)}},{name:"Delete",type:"option",fun:function(t){c(r,t.clientX,t.clientY)}},{name:"Forward",type:"unavailable"},{name:"Back",type:"unavailable"},{type:"separator"},{type:"option",name:"&rarr; Rectangle",fun:()=>p("rectangle")},{type:"option",name:"&rarr; Ellipse",fun:()=>p("ellipse")},{type:"option",name:"&rarr; Circle",fun:()=>p("circle")},{type:"option",name:"&rarr; Line",fun:()=>p("line")},{type:"option",name:"&rarr; Arrow",fun:()=>p("arrow")},{type:"option",name:"&rarr; R-Arrow",fun:()=>p("reverse-arrow")},{type:"option",name:"&rarr; D-Arrow",fun:()=>p("double-arrow")},{type:"option",name:"&rarr; Text",fun:()=>p("text")}];function p(t){n(4,r.type=t,r),n(4,r.edited=!0,r),i(r)}let d=[...r.text],b=r.text;function g(t){t.preventDefault(),1==t.key.length||t.key.length>1&&/[^a-zA-Z0-9]/.test(t.key)?(d.push(t.key),b=d.join(""),u(r,b)):"Spacebar"===t.key?(d.push(" "),b=d.join(""),u(r,b)):"Backspace"===t.key?(d.pop(),b=d.join(""),u(r,b)):"Escape"===t.key&&h()}return document.addEventListener("keydown",g),_((()=>{document.removeEventListener("keydown",g)})),t.$$set=t=>{"x"in t&&n(0,s=t.x),"y"in t&&n(1,o=t.y),"obj"in t&&n(4,r=t.obj),"updateObject"in t&&n(5,i=t.updateObject),"moveObject"in t&&n(6,a=t.moveObject),"deleteObject"in t&&n(7,c=t.deleteObject),"resizeObject"in t&&n(8,l=t.resizeObject),"cancel"in t&&n(2,h=t.cancel),"updateText"in t&&n(9,u=t.updateText)},[s,o,h,f,r,i,a,c,l,u]}class he extends U{constructor(t){super(),Q(this,t,le,ce,r,{x:0,y:1,obj:4,updateObject:5,moveObject:6,deleteObject:7,resizeObject:8,cancel:2,updateText:9})}}function ue(e){let n,s,r,i;return{c(){n=b("g")},m(t,o){f(t,n,o),r||(i=h(s=e[1].call(null,n,e[0])),r=!0)},p(t,[e]){s&&o(s.update)&&1&e&&s.update.call(null,t[0])},i:t,o:t,d(t){t&&p(n),r=!1,i()}}}const fe="http://www.w3.org/2000/svg";function pe(t,e,n){const s=t[0]-e[0],o=t[1]-e[1],r=Math.cos(n)*s-Math.sin(n)*o,i=Math.sin(n)*s+Math.cos(n)*o;return[r+e[0],i+e[1]]}function de(t,e,n){let{roughSvg:s}=e,{obj:o}=e,r=null;function i(t,e,n){const o=t[0],r=t[1],i=e[0],a=e[1],c=Math.abs(o-i),l=Math.abs(r-a),h=function(t,e,n){const s=t[0]-e[0],o=t[1]-e[1],r=Math.atan2(o,s),i=Math.cos(r)*n,a=Math.sin(r)*n;return[t[0]-i,t[1]-a]}(t,e,Math.min(Math.sqrt(c*c+l*l)/2,20)),u=pe(h,t,Math.PI/6),f=pe(h,t,-Math.PI/6),p=s.line(o,r,u[0],u[1]),d=s.line(o,r,f[0],f[1]);n.appendChild(p),n.appendChild(d)}function a(t,e){const n=Math.abs(t.box[2]-t.box[0]),o=Math.abs(t.box[3]-t.box[1]),r=Math.min(t.box[0],t.box[2]),a=Math.min(t.box[1],t.box[3]);switch(t.type){case"rectangle":const c=s.rectangle(r,a,n,o);e.appendChild(c);break;case"circle":const l=s.circle((t.box[2]+t.box[0])/2,(t.box[3]+t.box[1])/2,Math.min(o,n));e.appendChild(l);break;case"ellipse":const h=s.ellipse((t.box[2]+t.box[0])/2,(t.box[3]+t.box[1])/2,n,o);e.appendChild(h);break;case"line":const u=s.line(t.box[0],t.box[1],t.box[2],t.box[3]);e.appendChild(u);break;case"arrow":const f=s.line(t.box[0],t.box[1],t.box[2],t.box[3]);e.appendChild(f),i([t.box[2],t.box[3]],[t.box[0],t.box[1]],e);break;case"reverse-arrow":const p=s.line(t.box[0],t.box[1],t.box[2],t.box[3]);e.appendChild(p),i([t.box[0],t.box[1]],[t.box[2],t.box[3]],e);break;case"double-arrow":const d=s.line(t.box[0],t.box[1],t.box[2],t.box[3]);e.appendChild(d),i([t.box[2],t.box[3]],[t.box[0],t.box[1]],e),i([t.box[0],t.box[1]],[t.box[2],t.box[3]],e)}!function(t,e,n){const s=document.createElementNS(fe,"text");s.setAttribute("x",t[0]),s.setAttribute("y",t[1]),s.setAttribute("dy","0.35em"),s.setAttribute("text-anchor","middle"),s.setAttribute("font-size","36px"),s.setAttribute("stroke-width","10px"),s.setAttribute("stroke","white"),s.textContent=e,n.appendChild(s);const o=document.createElementNS(fe,"text");o.setAttribute("x",t[0]),o.setAttribute("y",t[1]),o.setAttribute("dy","0.35em"),o.setAttribute("text-anchor","middle"),o.setAttribute("font-size","36px"),o.textContent=e,n.appendChild(o)}([(t.box[0]+t.box[2])/2,(t.box[1]+t.box[3])/2],t.text,e)}return A((()=>{o.edited?(delete o.edited,function(){if(r)for(;r.firstChild;)r.removeChild(r.firstChild)}(),a(o,r)):o.editedText&&r.querySelectorAll("text").forEach((t=>{t.textContent=o.text}))})),t.$$set=t=>{"roughSvg"in t&&n(2,s=t.roughSvg),"obj"in t&&n(0,o=t.obj)},[o,function(t,e){return r=t,a(e,t),{destroy(){t.remove()}}},s]}class be extends U{constructor(t){super(),Q(this,t,de,ue,r,{roughSvg:2,obj:0})}}const ge="http://www.w3.org/2000/svg";class me{constructor(t,e,n){this._drawer=document.createElementNS(ge,"g"),t.appendChild(this._drawer),this._startX=e,this._startY=n,this._endX=e,this._endY=n;const s=document.createElementNS(ge,"rect");this._drawer.appendChild(s),s.setAttribute("id","rect"),s.setAttribute("x",this._startX),s.setAttribute("y",this._startY),s.setAttribute("width",0),s.setAttribute("height",0),s.setAttribute("stroke","#ff3e00"),s.setAttribute("stroke-dasharray","5 10"),s.setAttribute("fill","none");const o=document.createElementNS(ge,"line");this._drawer.appendChild(o),o.setAttribute("id","line1"),o.setAttribute("x1",this._startX),o.setAttribute("y1",this._startY),o.setAttribute("x2",this._startX),o.setAttribute("y2",this._startY),o.setAttribute("stroke","#ff3e00"),o.setAttribute("stroke-dasharray","5 10"),o.setAttribute("fill","none");const r=document.createElementNS(ge,"line");this._drawer.appendChild(r),r.setAttribute("id","line2"),r.setAttribute("x1",this._startX),r.setAttribute("y1",this._startY),r.setAttribute("x2",this._startX),r.setAttribute("y2",this._startY),r.setAttribute("stroke","#ff3e00"),r.setAttribute("stroke-dasharray","5 10"),r.setAttribute("fill","none");const i=document.createElementNS(ge,"line");this._drawer.appendChild(i),i.setAttribute("id","line3"),i.setAttribute("x1",this._startX),i.setAttribute("y1",this._startY),i.setAttribute("x2",this._startX),i.setAttribute("y2",this._startY),i.setAttribute("stroke","#ff3e00"),i.setAttribute("stroke-dasharray","5 10"),i.setAttribute("fill","none");const a=document.createElementNS(ge,"text");this._drawer.appendChild(a),a.setAttribute("id","text"),a.setAttribute("x",this._startX),a.setAttribute("y",this._startY),a.setAttribute("dy","0.35em"),a.setAttribute("text-anchor","middle"),a.setAttribute("font-size","36px"),a.setAttribute("stroke","#ff3e00"),a.setAttribute("opacity","0.5")}box(){return[this._startX,this._startY,this._endX,this._endY]}resize(t,e){this.move(this._startX,this._startY,t,e)}move(t,e,n,s){this._startX=t,this._startY=e,this._endX=n,this._endY=s;const o=Math.min(t,n),r=Math.min(e,s),i=Math.abs(n-t),a=Math.abs(s-e),c=document.getElementById("rect");c.setAttribute("x",o),c.setAttribute("y",r),c.setAttribute("width",i),c.setAttribute("height",a);const l=document.getElementById("line1"),h=document.getElementById("line2"),u=document.getElementById("line3");if(i<a){const t=(a-i)/2;l.setAttribute("x1",o),l.setAttribute("y1",r+t),l.setAttribute("x2",o+i),l.setAttribute("y2",r+t),h.setAttribute("x1",o),h.setAttribute("y1",r+t+i),h.setAttribute("x2",o+i),h.setAttribute("y2",r+t+i)}else if(i>a){const t=(i-a)/2;l.setAttribute("x1",o+t),l.setAttribute("y1",r),l.setAttribute("x2",o+t),l.setAttribute("y2",r+a),h.setAttribute("x1",o+t+a),h.setAttribute("y1",r),h.setAttribute("x2",o+t+a),h.setAttribute("y2",r+a)}u.setAttribute("x1",t),u.setAttribute("y1",e),u.setAttribute("x2",n),u.setAttribute("y2",s);const f=document.getElementById("text");f.setAttribute("x",(t+n)/2),f.setAttribute("y",(e+s)/2)}updateText(t){document.getElementById("text").textContent=t}remove(){for(;this._drawer.firstChild;)this._drawer.firstChild.remove();this._drawer.remove()}}function xe(t,e,n){const s=Math.min(n.box[0],n.box[2]),o=Math.max(n.box[0],n.box[2]),r=Math.min(n.box[1],n.box[3]),i=Math.max(n.box[1],n.box[3]);return t>=s&&t<=o&&e>=r&&e<=i}class ye{constructor(t){this._node=t,this._hover=null,this._object=null}isSelected(){return!!this._object}select(t,e,n){const s=function(t,e,n){for(let s=t.length-1;s>=0;s--)if(xe(e,n,t[s]))return t[s];return null}(t,e,n);this.selectObject(s)}selectObject(t){this._object?t?this._object.id!==t.id&&(this.clear(),this._select(t)):this.clear():t&&this._select(t)}_select(t){this._object=t,this._hover=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._node.appendChild(this._hover);const e=t.box,n=Math.min(e[0],e[2]),s=Math.max(e[0],e[2]),o=Math.min(e[1],e[3]),r=Math.max(e[1],e[3]);this._hover.setAttribute("x",n-5),this._hover.setAttribute("y",o-5),this._hover.setAttribute("width",s-n+10),this._hover.setAttribute("height",r-o+10),this._hover.setAttribute("stroke","#003eff"),this._hover.setAttribute("stroke-dasharray","5 10"),this._hover.setAttribute("fill","none")}object(){return this._object}clear(){this.isSelected()&&(this._hover.remove(),this._hover=null,this._object=null)}}function ke(t,e,n){const s=t.slice();return s[32]=e[n],s}function Me(t,e){let n,s,o;return s=new be({props:{obj:e[32],roughSvg:e[1]}}),{key:t,first:null,c(){n=x(),G(s.$$.fragment),this.first=n},m(t,e){f(t,n,e),H(s,t,e),o=!0},p(t,n){e=t;const o={};1&n[0]&&(o.obj=e[32]),2&n[0]&&(o.roughSvg=e[1]),s.$set(o)},i(t){o||(Y(s.$$.fragment,t),o=!0)},o(t){X(s.$$.fragment,t),o=!1},d(t){t&&p(n),V(s,t)}}}function ve(t){let e,n;return e=new ae({props:{x:t[2][0],y:t[2][1],cancel:t[7],makeObject:t[8],updateText:t[4]}}),{c(){G(e.$$.fragment)},m(t,s){H(e,t,s),n=!0},p(t,n){const s={};4&n[0]&&(s.x=t[2][0]),4&n[0]&&(s.y=t[2][1]),e.$set(s)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function we(t){let e,n;return e=new he({props:{x:t[3][0],y:t[3][1],obj:t[3][2],updateObject:t[9],moveObject:t[10],deleteObject:t[12],resizeObject:t[11],updateText:t[5],cancel:t[7]}}),{c(){G(e.$$.fragment)},m(t,s){H(e,t,s),n=!0},p(t,n){const s={};8&n[0]&&(s.x=t[3][0]),8&n[0]&&(s.y=t[3][1]),8&n[0]&&(s.obj=t[3][2]),e.$set(s)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function $e(t){let e,n,o,r,i,a,c,l=[],u=new Map,d=t[0];const g=t=>t[32].id;for(let e=0;e<d.length;e+=1){let n=ke(t,d,e),s=g(n);u.set(s,l[e]=Me(s,n))}let M=t[2]&&ve(t),v=t[3]&&we(t);return{c(){e=b("svg");for(let t=0;t<l.length;t+=1)l[t].c();n=m(),M&&M.c(),o=m(),v&&v.c(),r=x(),k(e,"class","svelte-17qhax3")},m(s,u){f(s,e,u);for(let t=0;t<l.length;t+=1)l[t].m(e,null);f(s,n,u),M&&M.m(s,u),f(s,o,u),v&&v.m(s,u),f(s,r,u),i=!0,a||(c=[y(e,"mousedown",t[6]),y(e,"mouseup",t[13]),y(e,"mousemove",t[14]),y(e,"contextmenu",Ae),h(t[15].call(null,e))],a=!0)},p(t,n){3&n[0]&&(d=t[0],W(),l=function(t,e,n,s,o,r,i,a,c,l,h,u){let f=t.length,p=r.length,d=f;const b={};for(;d--;)b[t[d].key]=d;const g=[],m=new Map,x=new Map;for(d=p;d--;){const t=u(o,r,d),a=n(t);let c=i.get(a);c?s&&c.p(t,e):(c=l(a,t),c.c()),m.set(a,g[d]=c),a in b&&x.set(a,Math.abs(d-b[a]))}const y=new Set,k=new Set;function M(t){Y(t,1),t.m(a,h),i.set(t.key,t),h=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],s=e.key,o=n.key;e===n?(h=e.first,f--,p--):m.has(o)?!i.has(s)||y.has(s)?M(e):k.has(o)?f--:x.get(s)>x.get(o)?(k.add(s),M(e)):(y.add(o),f--):(c(n,i),f--)}for(;f--;){const e=t[f];m.has(e.key)||c(e,i)}for(;p;)M(g[p-1]);return g}(l,n,g,1,t,d,u,e,B,Me,null,ke),F()),t[2]?M?(M.p(t,n),4&n[0]&&Y(M,1)):(M=ve(t),M.c(),Y(M,1),M.m(o.parentNode,o)):M&&(W(),X(M,1,1,(()=>{M=null})),F()),t[3]?v?(v.p(t,n),8&n[0]&&Y(v,1)):(v=we(t),v.c(),Y(v,1),v.m(r.parentNode,r)):v&&(W(),X(v,1,1,(()=>{v=null})),F())},i(t){if(!i){for(let t=0;t<d.length;t+=1)Y(l[t]);Y(M),Y(v),i=!0}},o(t){for(let t=0;t<l.length;t+=1)X(l[t]);X(M),X(v),i=!1},d(t){t&&p(e);for(let t=0;t<l.length;t+=1)l[t].d();t&&p(n),M&&M.d(t),t&&p(o),v&&v.d(t),t&&p(r),a=!1,s(c)}}}function Ae(t){t.preventDefault()}function _e(t,e,n){let s,o,r,i,a,c,l,h,u,f,p,{objects:d}=e,{addObject:b}=e,{deleteObject:g}=e,m=null,x=!1,y=!1;function k(){m&&(m.remove(),m=null)}return t.$$set=t=>{"objects"in t&&n(0,d=t.objects),"addObject"in t&&n(16,b=t.addObject),"deleteObject"in t&&n(17,g=t.deleteObject)},[d,s,f,p,function(t){m.updateText(t)},function(t,e){t.text=e,t.editedText=!0,b()},function(t){0==t.button&&(f||p||x||y||(c=t.clientX-r,l=t.clientY-i,m=new me(o,c,l)))},function(){k(),n(2,f=!1),n(3,p=!1)},function(t,e){k();const s={id:Qt(),type:t,box:[c,l,h,u],text:e};b(s),n(2,f=!1)},function(t){b(),n(3,p=!1)},function(t,e,s){const a=new me(o,t.box[0],t.box[1]);a.resize(t.box[2],t.box[3]),c=e-r,l=s-i,x=[t,a],n(3,p=!1)},function(t,e,s){const a=new me(o,t.box[0],t.box[1]);c=t.box[0],l=t.box[1],h=e-r,u=s-i,a.resize(h,u),y=[t,a],n(3,p=!1)},function(t,e,s){g(t),a.clear();const o=e-r,c=s-i;a.select(d,o,c),n(3,p=!1)},function(t){if(!f&&!p)if(h=t.clientX-r,u=t.clientY-i,0==t.button){if(m)Math.abs(c-h)>4||Math.abs(l-u)>4?n(2,f=[h,u]):(k(),a.isSelected()&&n(3,p=[h,u,a.object()]));else if(x){const[t,e]=x;e.remove(),x=!1,t.box=e.box(),t.edited=!0,b(),a.clear(),a.select(d,h,u)}else if(y){const[t,e]=y;e.remove(),y=!1,t.box=e.box(),t.edited=!0,b(),a.clear(),a.select(d,h,u)}}else 2==t.button&&(m||a.isSelected()&&console.log("selected = ",a.object()))},function(t){if(f||p)return;const e=t.clientX-r,n=t.clientY-i;if(m)m.resize(e,n);else if(x){const t=e-c,s=n-l,[o,r]=x;r.move(o.box[0]+t,o.box[1]+s,o.box[2]+t,o.box[3]+s)}else if(y){const[t,s]=y;s.resize(e,n)}a.select(d,e,n)},function(t){o=t;const e=t.getBoundingClientRect();r=e.left,i=e.top,n(1,s=Zt.svg(t)),a=new ye(t)},b,g]}class je extends U{constructor(t){super(),Q(this,t,_e,$e,r,{objects:0,addObject:16,deleteObject:17},null,[-1,-1])}}function Oe(t){let e,n;return{c(){e=d("img"),k(e,"class","icon svelte-1sn7125"),c(e.src,n=t[1])||k(e,"src",n),v(e,"width",t[0])},m(t,n){f(t,e,n)},p(t,s){2&s&&!c(e.src,n=t[1])&&k(e,"src",n),1&s&&v(e,"width",t[0])},d(t){t&&p(e)}}}function Se(t){let e,n,s;return{c(){e=d("a"),n=d("img"),k(n,"class","icon active svelte-1sn7125"),c(n.src,s=t[1])||k(n,"src",s),v(n,"width",t[0]),k(e,"href",t[3]),k(e,"target","_blank")},m(t,s){f(t,e,s),u(e,n)},p(t,o){2&o&&!c(n.src,s=t[1])&&k(n,"src",s),1&o&&v(n,"width",t[0]),8&o&&k(e,"href",t[3])},d(t){t&&p(e)}}}function Pe(t){let e,n,s,r;return{c(){e=d("img"),k(e,"class","icon active svelte-1sn7125"),c(e.src,n=t[1])||k(e,"src",n),v(e,"width",t[0])},m(n,i){f(n,e,i),s||(r=y(e,"click",(function(){o(t[2])&&t[2].apply(this,arguments)})),s=!0)},p(s,o){t=s,2&o&&!c(e.src,n=t[1])&&k(e,"src",n),1&o&&v(e,"width",t[0])},d(t){t&&p(e),s=!1,r()}}}function Ce(e){let n;function s(t,e){return t[2]?Pe:t[3]?Se:Oe}let o=s(e),r=o(e);return{c(){r.c(),n=x()},m(t,e){r.m(t,e),f(t,n,e)},p(t,[e]){o===(o=s(t))&&r?r.p(t,e):(r.d(1),r=o(t),r&&(r.c(),r.m(n.parentNode,n)))},i:t,o:t,d(t){r.d(t),t&&p(n)}}}function Ee(t,e,n){let{width:s="2em"}=e,{src:o}=e,{clickFn:r}=e,{href:i}=e;return t.$$set=t=>{"width"in t&&n(0,s=t.width),"src"in t&&n(1,o=t.src),"clickFn"in t&&n(2,r=t.clickFn),"href"in t&&n(3,i=t.href)},[s,o,r,i]}class Te extends U{constructor(t){super(),Q(this,t,Ee,Ce,r,{width:0,src:1,clickFn:2,href:3})}}function Le(t){let e,n,r,i,a,c,h,b;const x=t[4].default,w=function(t,e,n,s){if(t){const o=l(t,e,n,s);return t[0](o)}}(x,t,t[3],null);return{c(){e=d("div"),n=d("div"),r=d("div"),i=g(t[0]),a=m(),w&&w.c(),k(r,"class","title svelte-f83c1r"),v(r,"--color",t[1],!1),k(n,"class","frame svelte-f83c1r"),k(e,"class","background svelte-f83c1r")},m(s,l){var p;f(s,e,l),u(e,n),u(n,r),u(r,i),u(n,a),w&&w.m(n,null),c=!0,h||(b=[y(n,"click",(p=De,function(t){return t.stopPropagation(),p.call(this,t)})),y(e,"click",(function(){o(t[2])&&t[2].apply(this,arguments)}))],h=!0)},p(e,[n]){t=e,(!c||1&n)&&M(i,t[0]),2&n&&v(r,"--color",t[1],!1),w&&w.p&&(!c||8&n)&&function(t,e,n,s,o,r){if(o){const i=l(e,n,s,r);t.p(i,o)}}(w,x,t,t[3],c?function(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}(x,t[3],n,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3]),null)},i(t){c||(Y(w,t),c=!0)},o(t){X(w,t),c=!1},d(t){t&&p(e),w&&w.d(t),h=!1,s(b)}}}const De=()=>{};function ze(t,e,n){let{$$slots:s={},$$scope:o}=e,{name:r}=e,{color:i}=e,{cancel:a}=e;return t.$$set=t=>{"name"in t&&n(0,r=t.name),"color"in t&&n(1,i=t.color),"cancel"in t&&n(2,a=t.cancel),"$$scope"in t&&n(3,o=t.$$scope)},[r,i,a,o,s]}class Ie extends U{constructor(t){super(),Q(this,t,ze,Le,r,{name:0,color:1,cancel:2})}}const{document:Re}=q;function Ne(t){let e,n;return e=new Ie({props:{name:"Upload Diagram",color:"blue",cancel:t[11],$$slots:{default:[Xe]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},m(t,s){H(e,t,s),n=!0},p(t,n){const s={};4&n&&(s.cancel=t[11]),16390&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function We(t){let e;return{c(){e=d("div"),e.textContent="There is a problem with the JSON file.",k(e,"class","error svelte-4rtuvd")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Fe(e){let n;return{c(){n=d("button"),n.textContent="Upload",n.disabled=!0,k(n,"class","svelte-4rtuvd")},m(t,e){f(t,n,e)},p:t,d(t){t&&p(n)}}}function Ye(e){let n,s,o;return{c(){n=d("button"),n.textContent="Upload",k(n,"class","svelte-4rtuvd")},m(t,r){f(t,n,r),s||(o=y(n,"click",e[8]),s=!0)},p:t,d(t){t&&p(n),s=!1,o()}}}function Xe(t){let e,n,s,o,r,i,a,c,l,h=t[2]===Be&&We();function b(t,e){return t[1]?Ye:Fe}let g=b(t),x=g(t);return{c(){e=d("div"),n=d("div"),n.textContent="Choose a diagram to upload:",s=m(),o=d("input"),r=m(),h&&h.c(),i=m(),a=d("div"),x.c(),k(n,"class","svelte-4rtuvd"),k(o,"type","file"),k(o,"class","svelte-4rtuvd"),k(a,"class","svelte-4rtuvd"),k(e,"class","content svelte-4rtuvd")},m(p,d){f(p,e,d),u(e,n),u(e,s),u(e,o),u(e,r),h&&h.m(e,null),u(e,i),u(e,a),x.m(a,null),c||(l=y(o,"change",t[10]),c=!0)},p(t,n){t[2]===Be?h||(h=We(),h.c(),h.m(e,i)):h&&(h.d(1),h=null),g===(g=b(t))&&x?x.p(t,n):(x.d(1),x=g(t),x&&(x.c(),x.m(a,null)))},d(t){t&&p(e),h&&h.d(),x.d(),c=!1,l()}}}function qe(t){let e,n,s,o,r,i,a,c,l,h,b,g,x,y,M,v,w,$,A,_,j,O;h=new Te({props:{src:"assets/icons/clear.svg",width:"1.5em",clickFn:t[3]&&t[4]}}),g=new Te({props:{src:"assets/icons/upload.svg",width:"1.5em",clickFn:!t[3]&&t[7]}}),y=new Te({props:{src:"assets/icons/download.svg",width:"1.5em",clickFn:t[3]&&t[9]}}),v=new Te({props:{src:"assets/icons/github.svg",width:"1.5em",href:"https://github.com/rpucella/Rough-Sketch"}}),$=new je({props:{objects:t[0],addObject:t[5],deleteObject:t[6]}});let S=t[2]>0&&Ne(t);return{c(){e=d("link"),n=d("link"),s=d("link"),o=d("style"),o.textContent="body {\n      padding: 8px;\n      user-select: none;\n    }\n    \n    svg text {\n      font-family: Nothing You Could Do;\n      font-display: block;\n    }",r=m(),i=d("main"),a=d("div"),a.textContent="Rough Sketch",c=m(),l=d("div"),G(h.$$.fragment),b=m(),G(g.$$.fragment),x=m(),G(y.$$.fragment),M=m(),G(v.$$.fragment),w=m(),G($.$$.fragment),A=m(),S&&S.c(),_=m(),j=d("div"),Re.title="Rough Sketch",k(e,"rel","preconnect"),k(e,"href","https://fonts.googleapis.com"),k(n,"rel","preconnect"),k(n,"href","https://fonts.gstatic.com"),k(n,"crossorigin",""),k(s,"href","https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do"),k(s,"rel","stylesheet"),k(a,"class","title svelte-4rtuvd"),k(l,"class","icons svelte-4rtuvd")},m(t,p){u(Re.head,e),u(Re.head,n),u(Re.head,s),u(Re.head,o),f(t,r,p),f(t,i,p),u(i,a),u(i,c),u(i,l),H(h,l,null),u(l,b),H(g,l,null),u(l,x),H(y,l,null),u(l,M),H(v,l,null),u(i,w),H($,i,null),f(t,A,p),S&&S.m(t,p),f(t,_,p),f(t,j,p),O=!0},p(t,[e]){const n={};8&e&&(n.clickFn=t[3]&&t[4]),h.$set(n);const s={};8&e&&(s.clickFn=!t[3]&&t[7]),g.$set(s);const o={};8&e&&(o.clickFn=t[3]&&t[9]),y.$set(o);const r={};1&e&&(r.objects=t[0]),$.$set(r),t[2]>0?S?(S.p(t,e),4&e&&Y(S,1)):(S=Ne(t),S.c(),Y(S,1),S.m(_.parentNode,_)):S&&(W(),X(S,1,1,(()=>{S=null})),F())},i(t){O||(Y(h.$$.fragment,t),Y(g.$$.fragment,t),Y(y.$$.fragment,t),Y(v.$$.fragment,t),Y($.$$.fragment,t),Y(S),O=!0)},o(t){X(h.$$.fragment,t),X(g.$$.fragment,t),X(y.$$.fragment,t),X(v.$$.fragment,t),X($.$$.fragment,t),X(S),O=!1},d(t){p(e),p(n),p(s),p(o),t&&p(r),t&&p(i),V(h),V(g),V(y),V(v),V($),t&&p(A),S&&S.d(t),t&&p(_),t&&p(j)}}}const Be=2;function Ge(t,e,n){let s,o,r=[],i=400,a=400,c=0;return t.$$.update=()=>{1&t.$$.dirty&&n(3,s=r&&r.length>0)},[r,o,c,s,function(){n(0,r=[])},function(t){t&&r.push(t),n(0,r)},function(t){if(t)for(let e=0;e<r.length;e++)t.id===r[e].id&&r.splice(e,1);n(0,r)},function(){n(2,c=1)},function(){o&&o[0].text().then((t=>{const e=JSON.parse(t);i=e.height,a=e.width,n(0,r=e.objects),n(2,c=0)})).catch((t=>{n(2,c=Be)}))},function(){const t={height:i,width:a,objects:r},e=new Blob([JSON.stringify(t,null,2)],{type:"text/json"}),n=document.createElement("a");n.download="diagram.json",n.href=window.URL.createObjectURL(e),n.dataset.downloadurl=["text/json",n.download,n.href].join(":");const s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});n.dispatchEvent(s),n.remove()},function(){o=this.files,n(1,o)},()=>{n(2,c=0)}]}return new class extends U{constructor(t){super(),Q(this,t,Ge,qe,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
